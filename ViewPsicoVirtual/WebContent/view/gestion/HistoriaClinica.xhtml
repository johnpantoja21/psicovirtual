<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="/view/menu/template.xhtml">


	<ui:define name="content">
		<h:form id="formPrincipal">


<div class="container" style="text-align: center;">
			<div class="brand" style="text-align: center;">
				<h1 class="brand_name">
					<a href="./">Psicovirtual</a>
				</h1>
				<p class="brand_slogan">Historia Clinica</p>
			</div>
		</div>
		

			<p:tabView id="tapView">

				<p:tab id="tapRegistro" title="Registro">

					<p:growl id="messages1" sticky="true" />

					<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
						closable="false" resizable="false" showHeader="false">
						<p:graphicImage library="images" name="ajax-loader.gif" />
					</p:dialog>
					<div align="center">


						<p:dataTable id="tbl" var="dato" selectionMode="single"
							selection="#{MBHistoriaClinica.seleccionCita}"
							rowKey="#{dato.idCita}"
							value="#{MBHistoriaClinica.listCitasPagadas}">


							<p:column headerText="Id Cita">
								<h:outputText value="#{dato.idCita}" />
							</p:column>

							<p:column headerText="Nombres ">
								<h:outputText value="#{dato.clientesPsicologo.usuario1.nombre}" />
							</p:column>

							<p:column headerText="Apellidos">
								<h:outputText
									value="#{dato.clientesPsicologo.usuario1.apellidos}" />
							</p:column>

							<p:column headerText="Fecha Citacion">
								<h:outputText value="#{dato.horario.fechaInicial}">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss"
										timeZone="GMT-5" />
								</h:outputText>
							</p:column>

						</p:dataTable>



						<p:dataTable id="tbl" var="dato" selectionMode="single"
							selection="#{MBHistoriaClinica.temaSeleccionado}" rowKey="#{dato.idTema}"
							value="#{MBHistoriaClinica.listaTema}">


							<p:ajax event="rowSelect" listener="#{MBHistoriaClinica.cargarModificar}"
								update=":formPrincipal:tapView:camposModificar" />


							<p:column headerText="Id Tema">
								<h:outputText value="#{dato.idTema}" />
							</p:column>

							<p:column headerText="Nombre Tema">
								<h:outputText value="#{dato.descripcion}" />

						</p:dataTable>
						
						
						
						<h:panelGrid id="campos" columns="2" cellpadding="4">

							<h:outputText style="    font-weight: bold; " value="Nombre : " />

							<p:inputText style="width: 200px;" id="idNombre" maxlength="100"
								value="#{MBTema.descripcion}">
							</p:inputText>


							<p:commandButton value="Guardar" style="width: 220px;"
								onstart="PF('statusDialog').show();  "
								oncomplete="PF('statusDialog').hide();"
								update=":formPrincipal:tapView:campos, messages1
							,:formPrincipal:tapView:tbl"
								action="#{MBTema.guardar}" styleClass="btn btn-green"
								id="guardar">
							</p:commandButton>


							<p:commandButton value="Limpiar" style="width: 220px;"
								onstart="PF('statusDialog').show();  "
								oncomplete="PF('statusDialog').hide();"
								update=":formPrincipal:tapView:campos"
								action="#{MBTema.limpiar}" styleClass="btn btn-blue"
								id="limpiar">
							</p:commandButton>




						</h:panelGrid>

					</div>

				</p:tab>



			</p:tabView>


		</h:form>




	</ui:define>

</ui:composition>
